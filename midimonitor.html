<!DOCTYPE html>
<html>
	<head>
		<title>MidiMonitor</title>
		<link rel="stylesheet" href="css/midimonitor.css">

		<script type="text/javascript">
			function fullscreenToggle(event) {
				var element = event.currentTarget;

				if(document.fullscreen()) {
					document.exitFullscreen();
				} else {
					element.requestFullscreen();
				}
			}

			function init(canvas) {
				function initFullscreen(element) {
					document.fullscreen = document.fullscreen || function() { return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement; };
					element.requestFullscreen = element.requestFullscreen || element.webkitRequestFullscreen || element.mozRequestFullScreen || element.msRequestFullscreen;
					document.exitFullscreen = document.exitFullscreen || document.webkitExitFullscreen || document.mozCancelFullScreen || document.msExitFullscreen;

					element.addEventListener("click", fullscreenToggle);
				}

				function initCanvas(canvas) {
					window.opener.doit(canvas);
				}

				initFullscreen(document.documentElement);
				initCanvas(canvas);
			}
		</script>
	</head>
	<body onload='init(self.midimonitor)'>
		<canvas id='midimonitor'/>
	</body>
</html>
